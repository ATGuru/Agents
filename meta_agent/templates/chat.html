<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Meta-Agent Chatbot</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f4f4f4; }
        #chatbox { width: 60%; margin: 40px auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px #ccc; padding: 20px; }
        #messages { height: 300px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; background: #fafafa; margin-bottom: 10px; }
        .msg { margin: 8px 0; }
        .user { color: #0074d9; }
        .bot { color: #111; }
        #input { width: 80%; padding: 8px; }
        #send { padding: 8px 16px; }
    </style>
</head>
<body>
<div id="chatbox">
    <h2>Meta-Agent Chatbot</h2>
    <div id="messages"></div>
    <input id="input" type="text" placeholder="Type your message..." autofocus />
    <button id="send">Send</button>
</div>
<script>
const messages = document.getElementById('messages');
const input = document.getElementById('input');
const send = document.getElementById('send');

function appendMessage(text, sender) {
    const div = document.createElement('div');
    div.className = 'msg ' + sender;
    div.textContent = (sender === 'user' ? 'You: ' : 'Meta-Agent: ') + text;
    messages.appendChild(div);
    messages.scrollTop = messages.scrollHeight;
}

send.onclick = async function() {
    const text = input.value.trim();
    if (!text) return;
    appendMessage(text, 'user');
    input.value = '';
    const res = await fetch('/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: text })
    });
    const data = await res.json();
    appendMessage(data.response, 'bot');
};

input.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') send.onclick();
});
</script>
</body>
</html>
